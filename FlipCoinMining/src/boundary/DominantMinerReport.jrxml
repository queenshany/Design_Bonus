<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.6.0.final using JasperReports Library version 6.6.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="TransactionPairReport" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="70c125f5-d57e-4cbf-97f0-129ee43f4f13">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="UCA"/>
	<parameter name="startDate" class="java.sql.Date" isForPrompting="false"/>
	<parameter name="endDate" class="java.sql.Date" isForPrompting="false"/>
	<queryString language="SQL">
		<![CDATA[SELECT B.creationDate, M.uniqueAddress, M.minerName, COUNT(*) AS blockAmount, SUM(B.size) AS totalBlockSize, COUNT(*)/ SUM(B.size)  AS relation
FROM ((tblMiner AS M INNER JOIN tblBlock AS B ON B.minerAddress=M.uniqueAddress) LEFT JOIN keySolvedRiddle AS SR ON M.uniqueAddress=SR.uniqueAddress) LEFT JOIN tblRiddle AS R ON R.riddleNum=SR.riddleNum
GROUP BY B.creationDate, M.uniqueAddress, M.minerName
HAVING B.creationDate Between $P{startDate} And $P{endDate} 
ORDER BY COUNT(*)/SUM(B.size);
]]>
	</queryString>
	<field name="CREATIONDATE" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.label" value="CREATIONDATE"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="SYSTEM_SUBQUERY"/>
	</field>
	<field name="UNIQUEADDRESS" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="UNIQUEADDRESS"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="SYSTEM_SUBQUERY"/>
	</field>
	<field name="MINERNAME" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="MINERNAME"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="SYSTEM_SUBQUERY"/>
	</field>
	<field name="blockAmount" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.label" value="blockAmount"/>
	</field>
	<field name="totalBlockSize" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.label" value="totalBlockSize"/>
	</field>
	<field name="relation" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="relation"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="83" splitType="Stretch">
			<staticText>
				<reportElement x="167" y="20" width="220" height="30" forecolor="#002B99" uuid="9f703ffd-3a5d-4b4f-9181-0657c1412ece"/>
				<textElement textAlignment="Center">
					<font size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[Dominant Miner Report]]></text>
			</staticText>
			<textField pattern="MMMMM dd, yyyy">
				<reportElement x="0" y="0" width="100" height="20" uuid="921c42a9-6a7a-418b-9b35-8e08a3c38679"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="490" y="2" width="65" height="67" uuid="ca45582a-66c0-4ed8-9485-fc4acc4e8be7"/>
				<imageExpression><![CDATA["src/rsc/flipcoinLogo.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="0" y="40" width="56" height="19" uuid="69aed6b7-d694-42fd-9254-ac0b95a8b543"/>
				<text><![CDATA[Start Date:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="60" width="56" height="19" uuid="8a7ea0c1-d85b-4cd9-a607-0b5761cfa07e"/>
				<text><![CDATA[End Date:]]></text>
			</staticText>
			<textField>
				<reportElement x="56" y="40" width="70" height="20" uuid="c0d8fb61-aaad-4b89-852c-727a3529a7a5"/>
				<textFieldExpression><![CDATA[$P{startDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="56" y="60" width="70" height="19" uuid="3fd90f0f-8c86-4ab6-be2b-ea977d68d305"/>
				<textFieldExpression><![CDATA[$P{endDate}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="14" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="37" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="95" height="30" uuid="43ca21e7-940c-4a49-9a76-1a2e61b6766c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="edb25a59-65ec-4aae-ae4c-ddb0f741d0f7"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Creation Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="95" y="0" width="92" height="30" uuid="269f6b4a-f111-47e4-b15d-30165ce637bb">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="17d7277b-7694-4292-afec-40eb9b58a2c4"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Unique Address]]></text>
			</staticText>
			<staticText>
				<reportElement x="187" y="0" width="92" height="30" uuid="c3adcd68-3131-42d1-a0dd-4c269ed19fb4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="8386995b-70c9-4c3e-8061-690d3863d4da"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Miner Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="279" y="0" width="92" height="30" uuid="2b65ed2e-c4d2-421d-9d27-548a94b2c6d0">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="41383cfa-4de0-4bc8-b70b-8fb0eb4a9f39"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Block Amount]]></text>
			</staticText>
			<staticText>
				<reportElement x="371" y="0" width="92" height="30" uuid="a07267f9-d297-4bf3-9854-4fd9cec0f29c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="75d38dc7-69a9-468f-8cba-cd241fed8986"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Block Size]]></text>
			</staticText>
			<staticText>
				<reportElement x="463" y="0" width="92" height="30" uuid="9097345b-4cfd-4156-98e5-fc56ad48fd96">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d1281c24-c92a-4d2c-94c2-7e4e85f0d7ad"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Block Amount / Total Block Size]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="32" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="95" height="30" uuid="f5ca34fe-e8d3-4626-877d-5fcbec3d59b4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="edb25a59-65ec-4aae-ae4c-ddb0f741d0f7"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{CREATIONDATE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="95" y="0" width="92" height="30" uuid="0737028d-e5fb-45d9-9c63-229cc743cf42">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="17d7277b-7694-4292-afec-40eb9b58a2c4"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{UNIQUEADDRESS}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="187" y="0" width="92" height="30" uuid="71592660-b078-4a00-b965-31ad6e04fb5b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="8386995b-70c9-4c3e-8061-690d3863d4da"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{MINERNAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="279" y="0" width="92" height="30" uuid="7323ba7a-45d4-46e6-b117-83f0e7fc5932">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="41383cfa-4de0-4bc8-b70b-8fb0eb4a9f39"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{blockAmount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="371" y="0" width="92" height="30" uuid="8060d424-f2df-4e99-9653-7bc40419060c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="75d38dc7-69a9-468f-8cba-cd241fed8986"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{totalBlockSize}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="463" y="0" width="92" height="30" uuid="3f0f6d29-cfc8-470f-81b1-b78cad5b8af6">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d1281c24-c92a-4d2c-94c2-7e4e85f0d7ad"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{relation}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="8" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="8" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="6" splitType="Stretch"/>
	</summary>
</jasperReport>
